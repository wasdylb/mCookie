#include <U8glib.h>
U8GLIB_SSD1306_128X64 u8g(U8G_I2C_OPT_NONE);

#define u8g_logo_width 16
#define u8g_logo_height 16

String msg = "^_^ Hello mCenter ^_^";
int8_t len;

uint32_t long timer;
int8_t ylb = 96;

static unsigned char u8g_logo_bits0[] U8G_PROGMEM = {
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xF0, 0x03, 0x00, 0x00, 0xF8, 0x07, 0x00,
  0x00, 0x08, 0x06, 0x00, 0x00, 0xE8, 0x06, 0x00, 0x00, 0xE8, 0x06, 0x00, 0x00, 0xC0, 0x04, 0x00,
  0x00, 0xF0, 0x03, 0x00, 0x00, 0xFE, 0x1F, 0x00, 0xF0, 0xFF, 0x7F, 0x80, 0xF0, 0xFF, 0xFF, 0xC0,
  0xF8, 0xFF, 0xFF, 0xE0, 0x38, 0x00, 0xF0, 0x60, 0x38, 0x00, 0xF0, 0x38, 0x38, 0x03, 0xF6, 0x1C,
  0x38, 0x8F, 0xF7, 0x0F, 0x3B, 0x00, 0xF0, 0x07, 0x7B, 0xF8, 0xF0, 0x01, 0xFB, 0xFF, 0xFF, 0x00,
  0xFF, 0xFF, 0xFF, 0x00, 0xFF, 0xFF, 0xFF, 0x00, 0xFE, 0xFF, 0xFF, 0x00, 0xF0, 0xFF, 0x7F, 0x00,
  0xE0, 0xFF, 0x3F, 0x00, 0x00, 0x0C, 0x03, 0x00, 0x00, 0x0C, 0x03, 0x00, 0x00, 0x0C, 0x03, 0x00,
  0x00, 0x0C, 0x03, 0x00, 0x00, 0x0C, 0x03, 0x00, 0x00, 0x0C, 0x03, 0x00, 0x00, 0x0C, 0x03, 0x00
};

static unsigned char u8g_logo_bits4[] U8G_PROGMEM = {
  0x10, 0x04, 0x20, 0x02, 0xFE, 0x3F, 0x80, 0x00, 0x80, 0x00, 0xFC, 0x1F, 0x80, 0x00, 0x80, 0x00,
  0xFF, 0x7F, 0x80, 0x00, 0x80, 0x00, 0xFE, 0x3F, 0x40, 0x01, 0x20, 0x02, 0x18, 0x0C, 0x07, 0x70 /*"美",0*/
};
static unsigned char u8g_logo_bits5[] U8G_PROGMEM = {
  0x10, 0x08, 0xB8, 0x08, 0x0F, 0x09, 0x08, 0x09, 0x08, 0x08, 0xBF, 0x08, 0x08, 0x09, 0x1C, 0x09,
  0x2C, 0x08, 0x0A, 0x78, 0xCA, 0x0F, 0x09, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08 /*"科",1*/
};
static unsigned char u8g_logo_bits6[] U8G_PROGMEM = {
  0x08, 0x04, 0x08, 0x04, 0x08, 0x04, 0xC8, 0x7F, 0x3F, 0x04, 0x08, 0x04, 0x08, 0x04, 0xA8, 0x3F,
  0x18, 0x21, 0x0C, 0x11, 0x0B, 0x12, 0x08, 0x0A, 0x08, 0x04, 0x08, 0x0A, 0x8A, 0x11, 0x64, 0x60 /*"技",3*/
};

void draw(void) {
  //u8g.drawXBMP( 32,    32 + 2, 32, 32, u8g_logo_bits0);

    u8g.drawXBMP( 32,    32 + 2, u8g_logo_width, u8g_logo_height, u8g_logo_bits4);
    u8g.drawXBMP( 32 + 16, 32 + 2, u8g_logo_width, u8g_logo_height, u8g_logo_bits5);
    u8g.drawXBMP( 32 + 32, 32 + 2, u8g_logo_width, u8g_logo_height, u8g_logo_bits5);
    u8g.drawXBMP( 32 + 48, 32 + 2, u8g_logo_width, u8g_logo_height, u8g_logo_bits6);
    u8g.setFont(u8g_font_6x10);
    u8g.setPrintPos(ylb, 62);
    u8g.print(msg);
}

void setup(void) {
  // u8g.setRot180();
  len = msg.length();
}

void loop(void) {
  if (millis() - timer > 10)
  {
    timer = millis();
    ylb -= 4;
    if (ylb < -96 - len)
      ylb = 96;
  }

  u8g.firstPage();
  do {
    draw();
  } while ( u8g.nextPage() );

}

